<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///zmianne poczatkowe
dzien_teraz=-1
rodzaj_zmiany=0;
obj_parent=id
wejscie=""
wyjscie=""
stawka=objSystem.ostatnio_wybrana_stawka;
//
msg_wejscie=-1
msg_wyjscie=-1
//
slide_delete=0
wybor_stawki=0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///WYJSCIE
if keyboard_check(vk_backspace)
{
    objSystem.interface=0
    instance_destroy()
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///klikanie w zmiane godzin
if device_mouse_check_button_pressed(0,mb_left)
{
    if device_mouse_x(0)&gt;global.szer*1.5 and device_mouse_x(0)&lt;global.szer*5.5
    {
/*---------------- wejscie ----------------*/
        if device_mouse_y(0)&gt;global.wys*2 and device_mouse_y(0)&lt;global.wys*2.5
        {
            msg_wejscie=get_string_async("godzina rozpoczecia",wejscie)
        }
/*---------------- wyjscie ----------------*/
        if device_mouse_y(0)&gt;global.wys*3 and device_mouse_y(0)&lt;global.wys*3.5
        {
            msg_wyjscie=get_string_async("godzina zakonczenia",wyjscie)
        }
/*---------------- rodzaj stawki ----------------*/
        if device_mouse_y(0)&gt;global.wys*4 and device_mouse_y(0)&lt;global.wys*4.5
        {
            wybor_stawki=1
        }
    }
}
if device_mouse_check_button_released(0,mb_left) and wybor_stawki=1
{     
     var _polozenie;
     stawka_old=stawka;
    for (_i_id_stawki=0;_i_id_stawki&lt;32;_i_id_stawki++)
    {
        if _i_id_stawki mod 2 = 0 _polozenie=-1
        else _polozenie=1
        if objSystem.dane_stawka[_i_id_stawki,STAWKA_NAZWA]!=""
        {
        var _x,_x1,_x2,_y,_y1,_y2;
        _x1=global.szer*1.5;
        _x2=global.szer*5.5;
        _y=((1+_i_id_stawki) *global.wys*0.75)-((1+objSystem.dane_stawka_max)/2 *global.wys*0.75);
        _y1=_y+global.wys*4
        _y2=_y+global.wys*4.5
            if device_mouse_x(0)&gt;_x1 and device_mouse_x(0)&lt;_x2 and 
                device_mouse_y(0)&gt;_y1 and device_mouse_y(0)&lt;_y2
                {
                    stawka=_i_id_stawki
                    with(obj_parent)
                    {
                        scrDane(other.dzien_teraz,RODZAJ_ZMIANY+3*other.rodzaj_zmiany,other._i_id_stawki)
                        suma_godzin[other.stawka]=scrSuma_godzin(other.stawka);
                        suma_godzin[other.stawka_old]=scrSuma_godzin(other.stawka_old);
                    }
                    //zapis defaultowo wybranej stawki(ostatnio wybrana stawka)
                    ini_open("stawki.ini");
                    objSystem.ostatnio_wybrana_stawka=stawka;
                    ini_write_real("config","ostatnio_wybrana_stawka",objSystem.ostatnio_wybrana_stawka);
                    ini_close();
                    break;
                //_i_id_stawki=32
                }
        }
        else break;//_i_id_stawki=32
    }
wybor_stawki=0
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///slide delete
if device_mouse_check_button_pressed(0,mb_left)
{
    if device_mouse_x(0)&gt;global.szer*1 and device_mouse_x(0)&lt;global.szer*2 and 
     device_mouse_y(0)&gt;global.wys*5 and device_mouse_y(0)&lt;global.wys*5.5
    {
        slide_delete=0.01
    }else
        slide_delete=0
}
if device_mouse_check_button_released(0,mb_left) 
{
    if slide_delete&gt;=1
    {
        with(obj_parent)
        {
            scrDane(dzien_teraz,WEJSCIE+3*other.rodzaj_zmiany,0)
            scrDane(dzien_teraz,WYJSCIE+3*other.rodzaj_zmiany,0)
            scrDane(dzien_teraz,RODZAJ_ZMIANY+3*other.rodzaj_zmiany,-1)
            show_debug_message("other.rodzaj_zmiany:"+string(other.rodzaj_zmiany))
            var _i_podmiana;
            for (_i_podmiana=other.rodzaj_zmiany;_i_podmiana&lt;=7;_i_podmiana++)
            {
                if scrDane(dzien_teraz,RODZAJ_ZMIANY+3*(_i_podmiana+1),-2)=-1
                {
                    show_debug_message("koniec:"+string(_i_podmiana))
                    scrDane(dzien_teraz,WEJSCIE+3*_i_podmiana,0)
                    scrDane(dzien_teraz,WYJSCIE+3*_i_podmiana,0)
                    scrDane(dzien_teraz,RODZAJ_ZMIANY+3*_i_podmiana,-1)
                    _i_podmiana=8 //koniec petli
                }
                else if _i_podmiana&lt;7
                {
                    scrDane(dzien_teraz,WEJSCIE+3*_i_podmiana,scrDane(dzien_teraz,WEJSCIE+3*(_i_podmiana+1),-2))
                    scrDane(dzien_teraz,WYJSCIE+3*_i_podmiana,scrDane(dzien_teraz,WYJSCIE+3*(_i_podmiana+1),-2))
                    scrDane(dzien_teraz,RODZAJ_ZMIANY+3*_i_podmiana,scrDane(dzien_teraz,RODZAJ_ZMIANY+3*(_i_podmiana+1),-2))
                }
                else
                {
                    scrDane(dzien_teraz,WEJSCIE+3*_i_podmiana,0)
                    scrDane(dzien_teraz,WYJSCIE+3*_i_podmiana,0)
                    scrDane(dzien_teraz,RODZAJ_ZMIANY+3*_i_podmiana,-1)
                }
                show_debug_message("_i_podmiana:"+string(_i_podmiana))
            }
            suma_godzin[other.stawka]=scrSuma_godzin(other.stawka);
        }
        objSystem.interface=0
        instance_destroy()
    }else
        slide_delete=0
}

if device_mouse_check_button(0,mb_left) and slide_delete&gt;0
{
    slide_delete=max(0.01,min(1,(device_mouse_x(0)-global.szer*1.5)/global.szer/4))
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="63">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///czytanie wiadomosci
var msg_id = ds_map_find_value(async_load, "id");
switch(msg_id)
{
case msg_wejscie:
    if ds_map_find_value(async_load, "status")
    {
        var _czas_min, _czas_godz, _czas, _i;
        _czas=ds_map_find_value(async_load, "result")
        _czas_min=""
        _czas_godz=""
        for (_i=1;_i&lt;=string_length(_czas);_i++)
        {
            if _i=1 or _i=2//godziny
            {
                if string_char_at(_czas, _i)!=" " and string_char_at(_czas, _i)!=":"{
                    _czas_godz+= string_char_at(_czas, _i)}
            }
            else if string_char_at(_czas, _i)!=" " and string_char_at(_czas, _i)!=":"{//minuty
                    _czas_min+=string(real(string_char_at(_czas, _i)))}
        }
        if _czas_godz="24" _czas_godz=0
        if date_valid_datetime(1970,1,1,_czas_godz,_czas_min,0)
        {
            with(obj_parent)
            {
                scrDane(dzien_teraz,WEJSCIE+3*other.rodzaj_zmiany,real(_czas_godz)+real(_czas_min)/60)
                scrDane(dzien_teraz,RODZAJ_ZMIANY+3*other.rodzaj_zmiany,other.stawka)
                other.wejscie=scrWyswietl_czas(scrDane(other.dzien_teraz,WEJSCIE+3*other.rodzaj_zmiany,-2))
                suma_godzin[other.stawka]=scrSuma_godzin(other.stawka)
            }
        }else
        show_message_async("!!!UWAGA!!!#BLEDNY FORMAT DATY")
        
    }
break;
case msg_wyjscie:
    if ds_map_find_value(async_load, "status")
    {
        var _czas_min, _czas_godz, _czas, _i;
        _czas=ds_map_find_value(async_load, "result")
        _czas_min=""
        _czas_godz=""
        for (_i=1;_i&lt;=string_length(_czas);_i++)
        {
            if _i=1 or _i=2//godziny
            {
                if string_char_at(_czas, _i)!=" " and string_char_at(_czas, _i)!=":"{
                    _czas_godz+= string_char_at(_czas, _i)}
            }
            else if string_char_at(_czas, _i)!=" " and string_char_at(_czas, _i)!=":"{//minuty
                    _czas_min+=string(real(string_char_at(_czas, _i)))}
        }
        if _czas_godz="24" _czas_godz=0
        if date_valid_datetime(1970,1,1,_czas_godz,_czas_min,0)
        {
            with(obj_parent)
            {
                scrDane(dzien_teraz,WYJSCIE+3*other.rodzaj_zmiany,real(_czas_godz)+real(_czas_min)/60)
                scrDane(dzien_teraz,RODZAJ_ZMIANY+3*other.rodzaj_zmiany,other.stawka)
                other.wyjscie=scrWyswietl_czas(scrDane(other.dzien_teraz,WYJSCIE+3*other.rodzaj_zmiany,-2))
                suma_godzin[other.stawka]=scrSuma_godzin(other.stawka)
            }
        }else
        show_message_async("!!!UWAGA!!!#BLEDNY FORMAT DATY")
        
    }
break;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///draw
/*---------------- tło ----------------*/
draw_set_alpha(0.6)
draw_set_color(c_black)
draw_rectangle(0,0,global.szer*7,view_hview,0)

if dzien_teraz!=-1 and !wybor_stawki
{
/*---------------- wejscie ----------------*/
draw_set_alpha(0.9)
draw_set_color(c_silver)
draw_rectangle(global.szer*1.5,global.wys*2,global.szer*5.5,global.wys*2.5,0)
draw_set_alpha(1)
draw_set_font(foBig)
draw_set_valign(fa_top);
draw_set_halign(fa_center);
draw_text(global.szer*2,global.wys*2.5,"WEJSCIE")
draw_set_font(foBig)
draw_set_valign(fa_middle);
draw_set_halign(fa_center);
draw_set_color(c_black)
draw_text(global.szer*3.5,global.wys*2.25,wejscie)

/*---------------- wyjscie ----------------*/
draw_set_alpha(0.9)
draw_set_color(c_silver)
draw_rectangle(global.szer*1.5,global.wys*3,global.szer*5.5,global.wys*3.5,0)
draw_set_alpha(1)
draw_set_font(foBig)
draw_set_valign(fa_top);
draw_set_halign(fa_center);
draw_text(global.szer*2,global.wys*3.5,"WYJSCIE")
draw_set_font(foBig)
draw_set_valign(fa_middle);
draw_set_halign(fa_center);
draw_set_color(c_black)
draw_text(global.szer*3.5,global.wys*3.25,wyjscie)
/*---------------- rodzaj zmiany ----------------*/
draw_set_alpha(0.9)
draw_set_color(c_silver)
draw_rectangle(global.szer*1.5,global.wys*4,global.szer*5.5,global.wys*4.5,0)
var _kolor=objSystem.dane_stawka[stawka,STAWKA_KOLOR];
if (_kolor==C_NOONE) _kolor=c_silver;
draw_set_color(_kolor);
draw_rectangle(global.szer*1.5+global.szer/15,global.wys*4+global.szer/15,global.szer*5.5-global.szer/15,global.wys*4.5-global.szer/15,0)
draw_set_color(c_black)
draw_set_alpha(1)
draw_set_font(foBig)
draw_set_valign(fa_top);
draw_set_halign(fa_center);
draw_text(global.szer*2,global.wys*4.5,"STAWKA")
draw_set_font(foBig)
draw_set_valign(fa_middle);
draw_set_halign(fa_center);
draw_set_color(c_black)
draw_text(global.szer*3.5,global.wys*4.25,string(objSystem.dane_stawka[stawka,STAWKA_NAZWA]))
/*---------------- slide to delete ----------------*/
draw_set_alpha(0.9)
if slide_delete&lt;1
draw_set_color(c_silver)
else draw_set_color(make_colour_rgb(102,225,0))
draw_rectangle(global.szer*1,global.wys*5,global.szer*6,global.wys*5.5,0)
draw_set_color(make_colour_rgb(173,225,47))
draw_rectangle(global.szer*5,global.wys*5,global.szer*6,global.wys*5.5,0)
draw_set_color(merge_colour(make_colour_rgb(227,38,54),make_colour_rgb(102,225,0),slide_delete))
draw_rectangle(global.szer*1+slide_delete*global.szer*4,global.wys*5,global.szer*2+slide_delete*global.szer*4,global.wys*5.5,0)

draw_set_alpha(1)
draw_set_color(c_silver)
draw_set_font(foBig)
draw_set_valign(fa_top);
draw_set_halign(fa_center);
draw_text(global.szer*2,global.wys*5.5,"Slide to delete")
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///wybor stawki
if wybor_stawki
{
var _i_id_stawki;
    draw_set_valign(fa_middle)
    draw_set_halign(fa_center)
//--------------- wyswietlanie stawek
for (_i_id_stawki=0;_i_id_stawki&lt;32;_i_id_stawki++)
{
    if objSystem.dane_stawka[_i_id_stawki,STAWKA_NAZWA]!=""
    {
    //objSystem.dane_stawka_max
        var _x,_x1,_x2,_y,_y1,_y2;
        _x1=global.szer*1.5;
        _x2=global.szer*5.5;
        _y=((1+_i_id_stawki) *global.wys*0.75)-((1+objSystem.dane_stawka_max)/2 *global.wys*0.75);
        _y1=_y+global.wys*4
        _y2=_y+global.wys*4.5
        
        draw_set_alpha(0.9)
        var _kolor=objSystem.dane_stawka[_i_id_stawki,STAWKA_KOLOR];
        if (_kolor==c_black) _kolor=c_silver;
        draw_set_color(_kolor)
        draw_rectangle(_x1,_y1,_x2,_y2,0)
        draw_rectangle(_x1,_y1,_x2,_y2,0)
        draw_set_color(c_white)
        draw_rectangle(_x1,_y1,_x2,_y2,1)
        draw_set_alpha(1)
        draw_set_color(c_black)
        draw_text(global.szer*3.5,+_y+global.wys*4.25,
            objSystem.dane_stawka[_i_id_stawki,STAWKA_NAZWA])
    }
    else break;
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
