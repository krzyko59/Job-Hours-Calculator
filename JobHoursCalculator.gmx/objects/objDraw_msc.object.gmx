<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>for (_i=0;_i&lt;32;_i++) suma_godzin[32]=0
//wysokosc wyswietlania dodatkowych danych
y_margin_wiecej=0
wybor_zmiany_godziny=-1
alarm[0]=1
scr_ilosc_dni[0]=0
scr_ilosc_dni[1]=0
miesiac_teraz=-1
rok_teraz=-1
msg_notatka=-1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///load data
scrINI_load_data(miesiac_teraz, rok_teraz)
pierwszy_dzien=scrPierwszy_dzien(miesiac_teraz, rok_teraz)
    ///suma godzin w miesiacu
    var _i;
    for(_i=0;_i&lt;32;_i++)
        suma_godzin[_i]=scrSuma_godzin(_i)
    suma_godzin_all=scrSuma_godzin(-1)
    
miesiac_nazwa=string(objSystem.miesiac_nazwa[round(miesiac_teraz)])
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///ilosc_dni
if miesiac_teraz!=0 or rok_teraz!=0
scr_ilosc_dni[0]=scrIlosc_dni(miesiac_teraz-1, rok_teraz)
scr_ilosc_dni[1]=scrIlosc_dni(miesiac_teraz, rok_teraz)
show_debug_message("miesiac_teraz "+string(miesiac_teraz))
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///y_margin_wiecej
y_margin_wiecej=Y_MARGIN+global.wys*ceil((pierwszy_dzien+scrIlosc_dni(miesiac_teraz, rok_teraz))/7)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///exit
if miesiac_teraz=-1 and rok_teraz=-1 exit
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///wybor kooru kafelki
if objSystem.interface=0 and device_mouse_check_button_pressed(0,mb_left) and dzien_teraz!=-1
{
    if device_mouse_y(0)&gt;y_margin_wiecej and point_distance(global.szer*7,y_margin_wiecej,device_mouse_x(0),device_mouse_y(0))&lt;115*global.wys/100
    {
        objSystem.interface=4
    }
}
if objSystem.interface=4 and device_mouse_check_button_released(0,mb_left)
{
    objSystem.interface=0
    if point_distance(global.szer*7,y_margin_wiecej,device_mouse_x(0),device_mouse_y(0))&gt;115*global.wys/100
    {
        var _dir=point_direction(global.szer*7,y_margin_wiecej,device_mouse_x(0),device_mouse_y(0));
        if _dir&gt;=90 and _dir&lt;120
            scrDane(dzien_teraz,KOLOR,objSystem.kolor_kafelki[0])
        if _dir&gt;=120 and _dir&lt;150
            scrDane(dzien_teraz,KOLOR,objSystem.kolor_kafelki[1])
        if _dir&gt;=150 and _dir&lt;180
            scrDane(dzien_teraz,KOLOR,objSystem.kolor_kafelki[2])
        if _dir&gt;=180 and _dir&lt;210
            scrDane(dzien_teraz,KOLOR,objSystem.kolor_kafelki[3])
        if _dir&gt;=210 and _dir&lt;240
            scrDane(dzien_teraz,KOLOR,objSystem.kolor_kafelki[4])
        if _dir&gt;=240 and _dir&lt;270
            scrDane(dzien_teraz,KOLOR,C_NOONE)  
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///KLIKANIE W KAFELKI
if objSystem.interface!=0 exit
if device_mouse_check_button_pressed(0,mb_left) and 
    device_mouse_x(0) div global.szer &lt;7 and//max szerokosc  
    (device_mouse_y(0)-Y_MARGIN) div global.wys  &lt;6 and//max wysokosc  
    device_mouse_y(0)&gt;Y_MARGIN //min wysokosc
{
var _x,_y;
    _x= device_mouse_x(0) div global.szer
    _y= (device_mouse_y(0)-Y_MARGIN) div global.wys
    if -pierwszy_dzien +_x+1+(_y*7)&lt;=scr_ilosc_dni[1] and -pierwszy_dzien +_x+1+(_y*7)&gt;0
    {
        dzien_teraz=-pierwszy_dzien +_x+1+(_y*7) //aktualny dzien miesiaca
    }
} 
//widok - podsumowanie miesiaca
if device_mouse_check_button_pressed(0,mb_left) and 
    device_mouse_y(0)&lt;=Y_MARGIN //min wysokosc
    dzien_teraz=-1
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///klikanie w zmiane godzin
if objSystem.interface=0 and dzien_teraz!=-1
{
//pressed
    if device_mouse_check_button_pressed(0,mb_left)
    {
        //klikanie w notatke
        if device_mouse_y(0)&gt;view_hview-32
            wybor_zmiany_godziny=-2
        else
        {
            var _i, _yy;
            _yy=y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15
            //klikanie w konkretne godziny
            for(_i=0;_i&lt;7;_i++)
            {
                if scrDane(dzien_teraz,RODZAJ_ZMIANY+3*_i,-2 )!=-1
                {
                    if device_mouse_y(0)&gt;_yy+_i*50+60 and  device_mouse_y(0)&lt;_yy+_i*50+110
                    {
                         wybor_zmiany_godziny=_i
                         exit
                    }
                }
                else
                {
                    //dodanie nowej godziny
                    if device_mouse_y(0)&gt;_yy+_i*50+60 and  device_mouse_y(0)&lt;_yy+_i*50+110
                    {
                        wybor_zmiany_godziny=_i
                        exit
                    }else 
                    {
                        wybor_zmiany_godziny=-1
                        exit
                    }
                }
            }
        }
    }
//released
    if device_mouse_check_button_released(0,mb_left) and wybor_zmiany_godziny!=-1
    {
        //notatka
        if wybor_zmiany_godziny=-2
        {
            msg_notatka=get_string_async("notatka",notatka[dzien_teraz])
        }else
        {
            var _i, _yy;
            _yy=y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15
            if device_mouse_y(0)&gt;_yy+wybor_zmiany_godziny*50+60 and  device_mouse_y(0)&lt;_yy+wybor_zmiany_godziny*50+110
            {
                //edytowanie godziny
                if scrDane(dzien_teraz,RODZAJ_ZMIANY+3*wybor_zmiany_godziny,-2 )!=-1
                {
                    objSystem.interface=5
                    var _obj;
                    _obj=instance_create(0,0,objInterface5)
                    _obj.dzien_teraz=dzien_teraz
                    _obj.rodzaj_zmiany=wybor_zmiany_godziny
                    _obj.obj_parent=id
                    _obj.wejscie=scrWyswietl_czas(scrDane(dzien_teraz,WEJSCIE+3*wybor_zmiany_godziny,-2))
                    _obj.wyjscie=scrWyswietl_czas(scrDane(dzien_teraz,WYJSCIE+3*wybor_zmiany_godziny,-2))
                    _obj.stawka=scrDane(dzien_teraz,RODZAJ_ZMIANY+3*wybor_zmiany_godziny,-2)
                }
                //dodanie nowej godziny
                else
                {
                    objSystem.interface=5
                var _obj, _i_zmiana;
                    _obj=instance_create(0,0,objInterface5)
                    _obj.dzien_teraz=dzien_teraz
                    for(_i_zmiana=0;_i_zmiana&lt;=7;_i_zmiana++)
                    {
                        if scrDane(dzien_teraz,RODZAJ_ZMIANY+3*_i_zmiana,-2)=-1
                        {
                            _obj.rodzaj_zmiany=_i_zmiana
                            _i_zmiana=8
                        }
                    }
                    _obj.obj_parent=id
                    _obj.wejscie="0:00"
                    _obj.wyjscie="0:00"
                    _obj.stawka=objSystem.ostatnio_wybrana_stawka;
                    //show_message("nowa godzina")
                    wybor_zmiany_godziny=-1
                }
            }else
            {
            wybor_zmiany_godziny=-1
            }
        }
    }
}
if !device_mouse_check_button(0,mb_left) wybor_zmiany_godziny=-1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="63">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///czytanie wiadomosci
var msg_id = ds_map_find_value(async_load, "id");
switch(msg_id)
{
case msg_notatka:
    if ds_map_find_value(async_load, "status")
    {
        notatka[dzien_teraz]=ds_map_find_value(async_load, "result")
        ini_open(string(rok_teraz)+"_"+string(miesiac_teraz)+".ini")
        ini_write_string(dzien_teraz,"notatka",notatka[dzien_teraz])
        ini_close()
        wybor_zmiany_godziny=-1
    }
break;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///exit
if miesiac_teraz=-1 and rok_teraz=-1 exit
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///DRAW widok miesieczny
if scr_ilosc_dni[1]=0 exit
/*------------wyswietlanie nagłowka------------*/
draw_set_alpha(image_alpha)
draw_set_font(foSBig)
draw_set_colour(c_black)
draw_set_valign(fa_top);
draw_set_halign(fa_left);
draw_text(global.szer*1.5,3+y,string(rok_teraz+2020)+" "+string(miesiac_nazwa))
/*------------kafelki dni------------*/
var _i_tygodnie, _i_dni, _numer_dnia;

for(_i_tygodnie=0;_i_tygodnie&lt;(pierwszy_dzien+scr_ilosc_dni[1])/7;_i_tygodnie++)
{
//rzad
    for(_i_dni=0;_i_dni&lt;7;_i_dni++)
    {
/*------------dni z poprzedniego miesiaca------------*/
        if (miesiac_teraz!=0 or rok_teraz!=0 /*nie rysuj nic w styczniu 2020*/) and _i_tygodnie=0/*tylko w 1 lini*/
        {
            if pierwszy_dzien!=0 and -pierwszy_dzien+_i_dni+1+scr_ilosc_dni[0]&lt;=scr_ilosc_dni[0]
            {
                _numer_dnia=-pierwszy_dzien+_i_dni+1+scr_ilosc_dni[0]
                draw_sprite_ext(sprMsc_other,0,_i_dni*global.szer,_i_tygodnie*global.wys+Y_MARGIN+y,global.szer/100,global.wys/100,0,-1,image_alpha)
                draw_set_alpha(image_alpha)
                draw_set_color(c_white)
                draw_set_font(foBig)
                draw_set_valign(fa_middle);
                draw_set_halign(fa_center);
                draw_text(_i_dni*global.szer+global.szer/2,_i_tygodnie*global.wys+Y_MARGIN+global.wys/2+y,string(_numer_dnia))
            }
        }
/*------------dni obecnego miesiaca------------*/
        if -pierwszy_dzien+_i_dni+(_i_tygodnie*7)&lt;scr_ilosc_dni[1] and (-pierwszy_dzien +_i_dni+1+(_i_tygodnie*7))&gt;0
        {
            _numer_dnia=-pierwszy_dzien+_i_dni+1+(_i_tygodnie*7)
/*------------reszta dni obecnego miesiaca------------*/ 
            if scrDane(_numer_dnia,KOLOR,-2)=C_NOONE
            {
                if notatka[_numer_dnia]!="" //notatka
                    draw_sprite_ext(sprMsc,3,_i_dni*global.szer+1,_i_tygodnie*global.wys+Y_MARGIN+1+y,global.szer/100,global.wys/100,0,-1,image_alpha)
                else
                    draw_sprite_ext(sprMsc,0,_i_dni*global.szer+1,_i_tygodnie*global.wys+Y_MARGIN+1+y,global.szer/100,global.wys/100,0,-1,image_alpha)
            }
            else
            {
                if notatka[_numer_dnia]!="" //notatka
                    draw_sprite_ext(sprMsc,3,_i_dni*global.szer+1,_i_tygodnie*global.wys+Y_MARGIN+1+y,global.szer/100,global.wys/100,0,scrDane(_numer_dnia,KOLOR,-2),image_alpha)
                else
                    draw_sprite_ext(sprMsc,0,_i_dni*global.szer+1,_i_tygodnie*global.wys+Y_MARGIN+1+y,global.szer/100,global.wys/100,0,scrDane(_numer_dnia,KOLOR,-2),image_alpha)
            }
            /*------------dzisiejszy dzien------------*/
            if _numer_dnia=objSystem.dzien_dzisiaj and miesiac_teraz=objSystem.miesiac_dzisiaj and rok_teraz=objSystem.rok_dzisiaj
                draw_sprite_ext(sprMsc,2,_i_dni*global.szer+1,_i_tygodnie*global.wys+Y_MARGIN+1+y,global.szer/100,global.wys/100,0,c_orange,image_alpha)
            draw_set_font(foBig)
            draw_set_valign(fa_top);
            draw_set_halign(fa_center);
            draw_set_alpha(image_alpha)
            if _i_dni=5 draw_set_color(make_colour_rgb(112,128,144))//sobota
            else if _i_dni=6 draw_set_color(make_colour_rgb(128,0,0))//niedziela
            else draw_set_color(make_colour_rgb(0,51,102))
            draw_text(_i_dni*global.szer+global.szer/4,_i_tygodnie*global.wys+Y_MARGIN+y-8,string(_numer_dnia))
            //wyswietlanie godzin
                var _scale, _color, _xx, _yy
    _xx=((pierwszy_dzien+_numer_dnia-1) mod 7 )*global.szer
    _yy=((pierwszy_dzien+_numer_dnia-1) div 7 )*global.wys+Y_MARGIN+y
    _scale=1.05
            var _i_rodzaj_zmiany, _i_rodzaj_zmiany_max;
            for (_i_rodzaj_zmiany=0;_i_rodzaj_zmiany&lt;=7;_i_rodzaj_zmiany++)
            {
                if scrDane(_numer_dnia,RODZAJ_ZMIANY+3*_i_rodzaj_zmiany,-2)=-1
                {
                    _i_rodzaj_zmiany_max=_i_rodzaj_zmiany
                    _i_rodzaj_zmiany=8
                }else
                {
                    _i_rodzaj_zmiany_max=7
                }
            }
            switch(_i_rodzaj_zmiany_max)
            {
            case 1: //widok 1
                draw_set_valign(fa_top);
                draw_set_halign(fa_right);
                draw_set_font(foBig)
                draw_set_color(c_black)
                draw_text(_xx+global.szer/20*19,_yy,scrWyswietl_czas(scrDane(_numer_dnia,WEJSCIE,-2)))
                draw_text(_xx+global.szer/20*19,_yy+26,scrWyswietl_czas(scrDane(_numer_dnia,WYJSCIE,-2)))
                draw_set_font(foSmall)
                draw_text(_xx+global.szer/20*19,_yy+52,scrWyswietl_sume(scrMierz_czas(scrDane(_numer_dnia,WEJSCIE,-2),scrDane(_numer_dnia,WYJSCIE,-2)))) 
                //show_debug_message("widok 1")
            break;
            case 2: //widok 2
                draw_set_valign(fa_top);
                draw_set_halign(fa_center);
                draw_set_font(foSmall)
                draw_set_color(c_black)
                draw_text(_xx+global.szer/2,_yy+19,scrWyswietl_czas(scrDane(_numer_dnia,WEJSCIE,-2))+"-"+scrWyswietl_czas(scrDane(_numer_dnia,WYJSCIE,-2)))
                draw_text(_xx+global.szer/2,_yy+33,scrWyswietl_sume(scrMierz_czas(scrDane(_numer_dnia,WEJSCIE,-2),scrDane(_numer_dnia,WYJSCIE,-2))))
                draw_text(_xx+global.szer/2,_yy+47,scrWyswietl_czas(scrDane(_numer_dnia,WEJSCIE+3,-2))+"-"+scrWyswietl_czas(scrDane(_numer_dnia,WYJSCIE+3,-2)))
                draw_text(_xx+global.szer/2,_yy+61,scrWyswietl_sume(scrMierz_czas(scrDane(_numer_dnia,WEJSCIE+3,-2),scrDane(_numer_dnia,WYJSCIE+3,-2)))) 
                //show_debug_message("widok 2")
            break;
            case 4: //widok 3
                draw_set_valign(fa_top);
                draw_set_halign(fa_center);
                draw_set_font(foSmall)
                draw_set_color(c_black)
                draw_text(_xx+global.szer/2,_yy+61,scrWyswietl_sume(scrMierz_czas(scrDane(_numer_dnia,WEJSCIE+3*3,-2),scrDane(_numer_dnia,WYJSCIE+3*3,-2))))
                case 3:
                    draw_set_valign(fa_top);
                    draw_set_halign(fa_center);
                    draw_set_font(foSmall)
                    draw_set_color(c_black)
                    draw_text(_xx+global.szer/2,_yy+19,scrWyswietl_sume(scrMierz_czas(scrDane(_numer_dnia,WEJSCIE,-2),scrDane(_numer_dnia,WYJSCIE,-2))))
                    draw_text(_xx+global.szer/2,_yy+33,scrWyswietl_sume(scrMierz_czas(scrDane(_numer_dnia,WEJSCIE+3,-2),scrDane(_numer_dnia,WYJSCIE+3,-2))))
                    draw_text(_xx+global.szer/2,_yy+47,scrWyswietl_sume(scrMierz_czas(scrDane(_numer_dnia,WEJSCIE+3*2,-2),scrDane(_numer_dnia,WYJSCIE+3*2,-2))))
            break;
            case 5:
            case 6:
            case 7:
                draw_set_valign(fa_top);
                draw_set_font(foSmall)
                draw_set_color(c_black)
                var _i_kolejna_zmiana;
                for (_i_kolejna_zmiana=0;scrDane(_numer_dnia,RODZAJ_ZMIANY+3*(_i_kolejna_zmiana),-2)!=-1;_i_kolejna_zmiana+=1)
                {
                //show_debug_message("kolejna zmiana:"+string(_i_kolejna_zmiana))
                if _i_kolejna_zmiana mod 2
                {
                draw_set_halign(fa_right);
                draw_text(_xx+global.szer/40*39,_yy+19+14*(_i_kolejna_zmiana-1)/2,scrWyswietl_sume_short(scrMierz_czas(scrDane(_numer_dnia,WEJSCIE+3*_i_kolejna_zmiana,-2),scrDane(_numer_dnia,WYJSCIE+3*_i_kolejna_zmiana,-2))))
                }else
                {
                draw_set_halign(fa_left);
                draw_text(_xx,_yy+19+14*_i_kolejna_zmiana/2,scrWyswietl_sume_short(scrMierz_czas(scrDane(_numer_dnia,WEJSCIE+3*_i_kolejna_zmiana,-2),scrDane(_numer_dnia,WYJSCIE+3*_i_kolejna_zmiana,-2))))
                }
                }
            break
            }
            if -pierwszy_dzien+_i_dni+(_i_tygodnie*7)+1==scr_ilosc_dni[1] and _i_dni=6 _i_tygodnie=10;//koniec wyswietlania
        }
/*------------dni nastepnego miesiaca------------*/
        else if _i_tygodnie&gt;0
        {
            draw_sprite_ext(sprMsc_other,0,_i_dni*global.szer,_i_tygodnie*global.wys+Y_MARGIN+y,global.szer/100,global.wys/100,0,-1,image_alpha)
            draw_set_alpha(image_alpha)
            draw_set_color(c_white)
            draw_set_font(foBig)
            draw_set_valign(fa_middle);
            draw_set_halign(fa_center);
            draw_text(_i_dni*global.szer+global.szer/2,_i_tygodnie*global.wys+Y_MARGIN+global.wys/2+y,string(-pierwszy_dzien+_i_dni+1+(_i_tygodnie*7)-scr_ilosc_dni[1]))
            if _i_dni=6 _i_tygodnie=10;//koniec wyswietlania
        }
    }
}
/*------------wyroznienie zaznaczonego dnia------------*/
if dzien_teraz!=-1
{      
    var _scale, _color, _xx, _yy
    _xx=((pierwszy_dzien+dzien_teraz-1) mod 7 )*global.szer
    _yy=((pierwszy_dzien+dzien_teraz-1) div 7 )*global.wys+Y_MARGIN+y
    _scale=1.05
    //cien kafelki
    draw_set_alpha(0.3)
    draw_set_color(c_gray)
    draw_rectangle(_xx,_yy,_xx+global.szer+_scale*global.szer*0.15,_yy+global.wys+_scale*global.wys*0.15,0)
    //kafelka
    if scrDane(dzien_teraz,KOLOR,-2)=C_NOONE _color=-1
    else _color=scrDane(dzien_teraz,KOLOR,-2)
    if notatka[dzien_teraz]!="" //notatka
        draw_sprite_ext(sprMsc,3,_xx-(global.szer*_scale-global.szer)/2,_yy-(global.wys*_scale-global.wys)/2,
        global.szer/102*_scale*1.05,global.wys/102*_scale*1.05,0,_color,image_alpha)
    else
        draw_sprite_ext(sprMsc,0,_xx-(global.szer*_scale-global.szer)/2,_yy-(global.wys*_scale-global.wys)/2,
        global.szer/102*_scale*1.05,global.wys/102*_scale*1.05,0,_color,image_alpha)
    //zaznaczenie dzisiejszego dnia
    if dzien_teraz=objSystem.dzien_dzisiaj and miesiac_teraz=objSystem.miesiac_dzisiaj and rok_teraz=objSystem.rok_dzisiaj
        draw_sprite_ext(sprMsc,2,_xx-(global.szer*_scale-global.szer)/2,_yy-(global.wys*_scale-global.wys)/2,
        global.szer/102*_scale*1.05,global.wys/102*_scale*1.05,0,c_orange,image_alpha)
    //numer dnia
    draw_set_font(foBig)
    draw_set_valign(fa_top);
    draw_set_halign(fa_center);
    draw_set_alpha(image_alpha)
    if _i_dni=5 draw_set_color(make_colour_rgb(112,128,144))//sobota
    else if _i_dni=6 draw_set_color(make_colour_rgb(128,0,0))//niedziela
    else draw_set_color(make_colour_rgb(0,51,102))
    draw_text(_xx+global.szer/4,_yy-8,string(dzien_teraz))
    //
    var _i_rodzaj_zmiany, _i_rodzaj_zmiany_max;
    for (_i_rodzaj_zmiany=0;_i_rodzaj_zmiany&lt;=7;_i_rodzaj_zmiany++)
    {
        if scrDane(dzien_teraz,RODZAJ_ZMIANY+3*_i_rodzaj_zmiany,-2)=-1
        {
            _i_rodzaj_zmiany_max=_i_rodzaj_zmiany
            _i_rodzaj_zmiany=8
        }else
        {
            _i_rodzaj_zmiany_max=7
        }
    }
    switch(_i_rodzaj_zmiany_max)
    {
    case 1: //widok 1
        draw_set_valign(fa_top);
        draw_set_halign(fa_right);
        draw_set_font(foBig)
        draw_set_color(c_black)
        draw_text(_xx+global.szer,_yy,scrWyswietl_czas(scrDane(dzien_teraz,WEJSCIE,-2)))
        draw_text(_xx+global.szer,_yy+26,scrWyswietl_czas(scrDane(dzien_teraz,WYJSCIE,-2)))
        draw_set_font(foSmall)
        draw_text(_xx+global.szer,_yy+52,scrWyswietl_sume(scrMierz_czas(scrDane(dzien_teraz,WEJSCIE,-2),scrDane(dzien_teraz,WYJSCIE,-2)))) 
        //show_debug_message("widok 1")
    break;
    case 2: //widok 2
        draw_set_valign(fa_top);
        draw_set_halign(fa_center);
        draw_set_font(foSmall)
        draw_set_color(c_black)
        draw_text(_xx+global.szer/2,_yy+19,scrWyswietl_czas(scrDane(dzien_teraz,WEJSCIE,-2))+"-"+scrWyswietl_czas(scrDane(dzien_teraz,WYJSCIE,-2)))
        draw_text(_xx+global.szer/2,_yy+33,scrWyswietl_sume(scrMierz_czas(scrDane(dzien_teraz,WEJSCIE,-2),scrDane(dzien_teraz,WYJSCIE,-2))))
        draw_text(_xx+global.szer/2,_yy+47,scrWyswietl_czas(scrDane(dzien_teraz,WEJSCIE+3,-2))+"-"+scrWyswietl_czas(scrDane(dzien_teraz,WYJSCIE+3,-2)))
        draw_text(_xx+global.szer/2,_yy+61,scrWyswietl_sume(scrMierz_czas(scrDane(dzien_teraz,WEJSCIE+3,-2),scrDane(dzien_teraz,WYJSCIE+3,-2)))) 
        //show_debug_message("widok 2")
    break;
    case 4: //widok 3
        draw_set_valign(fa_top);
        draw_set_halign(fa_center);
        draw_set_font(foSmall)
        draw_set_color(c_black)
        draw_text(_xx+global.szer/2,_yy+61,scrWyswietl_sume(scrMierz_czas(scrDane(dzien_teraz,WEJSCIE+3*3,-2),scrDane(dzien_teraz,WYJSCIE+3*3,-2))))
        case 3:
            draw_set_valign(fa_top);
            draw_set_halign(fa_center);
            draw_set_font(foSmall)
            draw_set_color(c_black)
            draw_text(_xx+global.szer/2,_yy+19,scrWyswietl_sume(scrMierz_czas(scrDane(dzien_teraz,WEJSCIE,-2),scrDane(dzien_teraz,WYJSCIE,-2))))
            draw_text(_xx+global.szer/2,_yy+33,scrWyswietl_sume(scrMierz_czas(scrDane(dzien_teraz,WEJSCIE+3,-2),scrDane(dzien_teraz,WYJSCIE+3,-2))))
            draw_text(_xx+global.szer/2,_yy+47,scrWyswietl_sume(scrMierz_czas(scrDane(dzien_teraz,WEJSCIE+3*2,-2),scrDane(dzien_teraz,WYJSCIE+3*2,-2))))
    break;
    case 5:
    case 6:
    case 7:
        draw_set_valign(fa_top);
        draw_set_font(foSmall)
        draw_set_color(c_black)
        var _i_kolejna_zmiana;
        for (_i_kolejna_zmiana=0;scrDane(dzien_teraz,RODZAJ_ZMIANY+3*(_i_kolejna_zmiana),-2)!=-1;_i_kolejna_zmiana+=1)
        {
        //show_debug_message("kolejna zmiana:"+string(_i_kolejna_zmiana))
        if _i_kolejna_zmiana mod 2
        {
        draw_set_halign(fa_right);
        draw_text(_xx+global.szer,_yy+19+14*(_i_kolejna_zmiana-1)/2,scrWyswietl_sume_short(scrMierz_czas(scrDane(dzien_teraz,WEJSCIE+3*_i_kolejna_zmiana,-2),scrDane(dzien_teraz,WYJSCIE+3*_i_kolejna_zmiana,-2))))
        }else
        {
        draw_set_halign(fa_left);
        draw_text(_xx,_yy+19+14*_i_kolejna_zmiana/2,scrWyswietl_sume_short(scrMierz_czas(scrDane(dzien_teraz,WEJSCIE+3*_i_kolejna_zmiana,-2),scrDane(dzien_teraz,WYJSCIE+3*_i_kolejna_zmiana,-2))))
        }
        }
    break
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///widok wiecej
var _yy;
_yy=y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15
if objSystem.miesiac_teraz=miesiac_teraz
{
    draw_set_color(make_colour_rgb(250,240,230))
    draw_set_alpha(1)
    draw_rectangle(0,_yy,global.szer*7,view_hview,0)
/*------------------------ZAZNACZONY DZIEN------------------------*/

    if dzien_teraz&gt;0
    {
    //nagłowek 
        draw_set_alpha(image_alpha)
        draw_set_font(foSBig)
        draw_set_colour(c_black)
        draw_set_valign(fa_top);
        draw_set_halign(fa_left);
        draw_text(10,_yy,string(dzien_teraz)+" "+string(objSystem.miesiac_nazwa[miesiac_teraz])+" "+string(2020+rok_teraz))
    
        for(_i=0;_i&lt;=6;_i++)
        {
            if scrDane(dzien_teraz,RODZAJ_ZMIANY+3*_i,-2 )!=-1
            {
                //opis konkretnej godziny
                draw_set_valign(fa_middle);
                draw_set_halign(fa_center);
                draw_set_font(foBig)
                if objSystem.dane_stawka[scrDane(dzien_teraz,RODZAJ_ZMIANY+3*_i,-2 ), STAWKA_KOLOR]=C_NOONE
                {
                    draw_set_colour(c_black)
                    draw_set_alpha(0.2)
                }
                else
                {
                    draw_set_colour(objSystem.dane_stawka[scrDane(dzien_teraz,RODZAJ_ZMIANY+3*_i,-2 ), STAWKA_KOLOR])
                    draw_set_alpha(1)
                }
                draw_rectangle(global.szer/100,_yy+_i*50+60,global.szer*7-global.szer/100,_yy+_i*50+110,0)
                draw_set_alpha(1)
                draw_set_colour(c_black)
                draw_text(global.szer*7/2,_yy+_i*50+85,string(scrWyswietl_czas(scrDane(dzien_teraz,WEJSCIE+3*_i,-2 )))+" - "+string(scrWyswietl_czas(scrDane(dzien_teraz,WYJSCIE+3*_i,-2 )))+
                        "     suma:"+string(scrWyswietl_sume(scrMierz_czas(scrDane(dzien_teraz,WEJSCIE+3*_i,-2) ,scrDane(dzien_teraz,WYJSCIE+3*_i,-2 )))))
            }else
            {
                //napis dodaj godziny
                draw_set_valign(fa_middle);
                draw_set_halign(fa_center);
                draw_set_font(foBig)
                draw_set_colour(c_black)
                draw_set_alpha(0.2)
                draw_rectangle(global.szer/100,_yy+_i*50+60,global.szer*7-global.szer/100,_yy+_i*50+110,0)
                draw_set_alpha(1)
                draw_text(global.szer*7/2,_yy+_i*50+85,"Dodaj Godziny")
                _i=10 //zakonczenie petli
            }
        
        }
        //notatka 
        draw_set_alpha(0.2)
        draw_set_color(c_gray)
        draw_rectangle(0,view_hview-32,global.szer*7,view_hview,0)
        if notatka[dzien_teraz]!=""
        {
            draw_set_alpha(1)
            draw_set_font(foBig)
            draw_set_colour(c_black)
            draw_set_valign(fa_bottom);
            draw_set_halign(fa_left);
            draw_text(global.szer/2,view_hview,"notatka: "+notatka[dzien_teraz])
        }else
        {
            draw_set_alpha(1)
            draw_set_font(foBig)
            draw_set_colour(c_black)
            draw_set_valign(fa_bottom);
            draw_set_halign(fa_left);
            draw_text(global.szer/2,view_hview,"dodaj notatke")
        }
    }else
/*------------------------podsumowanie miesiaca------------------------*/
    {
        draw_set_alpha(1)
            draw_set_font(foBig)
            draw_set_colour(c_black)
            draw_set_valign(fa_top);
            draw_set_halign(fa_left);
        var _i_id_stawki, _suma_godzin, _suma_pieniedzy;
        _suma_godzin=0
        _suma_pieniedzy=0
        _pozycja=0
        for (_i_id_stawki=0;_i_id_stawki&lt;32;_i_id_stawki++)
        {
            if objSystem.dane_stawka[_i_id_stawki,STAWKA_NAZWA]!=""
            {
                if suma_godzin[_i_id_stawki]!=0
                {
                    if objSystem.dane_stawka[_i_id_stawki, STAWKA_KOLOR]=C_NOONE
                    {
                        draw_set_colour(c_black)
                        draw_set_alpha(0.2)
                    }
                    else
                    {
                        draw_set_colour(objSystem.dane_stawka[_i_id_stawki, STAWKA_KOLOR])
                        draw_set_alpha(1)
                    }
                    draw_rectangle(global.szer/100,_yy+50*_pozycja,global.szer*7-global.szer/100,_yy+50*_pozycja+49,0)
                    draw_set_halign(fa_left);
                    draw_set_alpha(1)
                    draw_set_colour(c_black)
                    draw_text(10,_yy+50*_pozycja,string(objSystem.dane_stawka[_i_id_stawki,STAWKA_NAZWA]))
                    draw_set_halign(fa_right);
                    draw_text(global.szer*5-10,_yy+50*_pozycja,scrWyswietl_sume(suma_godzin[_i_id_stawki]))
                    draw_text(global.szer*7-10,_yy+50*_pozycja,suma_godzin[_i_id_stawki]*real(objSystem.dane_stawka[_i_id_stawki,STAWKA_STAWKA]))
                    _suma_godzin+=suma_godzin[_i_id_stawki]
                    _suma_pieniedzy+=suma_godzin[_i_id_stawki]*real(objSystem.dane_stawka[_i_id_stawki,STAWKA_STAWKA])
                    _pozycja+=1
                }
            }else 
            {
                draw_set_colour(c_black)
                draw_set_alpha(0.2)
                draw_rectangle(global.szer/100,_yy+50*_pozycja,global.szer*7-global.szer/100,_yy+50*_pozycja+49,0)
                draw_set_halign(fa_left);
                draw_set_alpha(1)
                draw_text(10,_yy+50*_pozycja,"-podsumowanie-")
                draw_set_halign(fa_right);
                draw_text(global.szer*5-10,_yy+50*_pozycja,scrWyswietl_sume(_suma_godzin))
                draw_text(global.szer*7-10,_yy+50*_pozycja,_suma_pieniedzy)
            
            _i_id_stawki=32
            }
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Choose color
if objSystem.miesiac_teraz=miesiac_teraz
{
    if objSystem.interface=4
    {
        draw_sprite_ext(sprChoose_color_ex,0,global.szer*7,y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15,0.6*global.wys/100,0.6*global.wys/100,285,objSystem.kolor_kafelki[0],1)
        draw_sprite_ext(sprChoose_color_ex,0,global.szer*7,y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15,0.6*global.wys/100,0.6*global.wys/100,315,objSystem.kolor_kafelki[1],1)
        draw_sprite_ext(sprChoose_color_ex,0,global.szer*7,y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15,0.6*global.wys/100,0.6*global.wys/100,345,objSystem.kolor_kafelki[2],1)
        draw_sprite_ext(sprChoose_color_ex,0,global.szer*7,y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15,0.6*global.wys/100,0.6*global.wys/100,15,objSystem.kolor_kafelki[3],1)
        draw_sprite_ext(sprChoose_color_ex,0,global.szer*7,y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15,0.6*global.wys/100,0.6*global.wys/100,45,objSystem.kolor_kafelki[4],1)
        draw_sprite_ext(sprChoose_color_ex,0,global.szer*7,y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15,0.6*global.wys/100,0.6*global.wys/100,75,-1,1)
        if point_distance(global.szer*7,y_margin_wiecej,device_mouse_x(0),device_mouse_y(0))&gt;115
        {
            var _dir=point_direction(global.szer*7,y_margin_wiecej,device_mouse_x(0),device_mouse_y(0));
            if _dir&gt;=90 and _dir&lt;120
                draw_sprite_ext(sprChoose_color_ex,0,global.szer*7,y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15,0.8*global.wys/100,0.8*global.wys/100,285,objSystem.kolor_kafelki[0],1)
            if _dir&gt;=120 and _dir&lt;150
                draw_sprite_ext(sprChoose_color_ex,0,global.szer*7,y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15,0.8*global.wys/100,0.8*global.wys/100,315,objSystem.kolor_kafelki[1],1)
            if _dir&gt;=150 and _dir&lt;180
                draw_sprite_ext(sprChoose_color_ex,0,global.szer*7,y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15,0.8*global.wys/100,0.8*global.wys/100,345,objSystem.kolor_kafelki[2],1)
            if _dir&gt;=180 and _dir&lt;210
                draw_sprite_ext(sprChoose_color_ex,0,global.szer*7,y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15,0.8*global.wys/100,0.8*global.wys/100,15,objSystem.kolor_kafelki[3],1)
            if _dir&gt;=210 and _dir&lt;240
                draw_sprite_ext(sprChoose_color_ex,0,global.szer*7,y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15,0.8*global.wys/100,0.8*global.wys/100,45,objSystem.kolor_kafelki[4],1)
            if _dir&gt;=240 and _dir&lt;270
                draw_sprite_ext(sprChoose_color_ex,0,global.szer*7,y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15,0.8*global.wys/100,0.8*global.wys/100,75,-1,1)
        }
        if dzien_teraz!=-1
        {
            if scrDane(dzien_teraz,KOLOR,-2)!=C_NOONE
                draw_sprite_ext(sprChoose_color,0,global.szer*7,y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15,global.wys/100,global.wys/100,270,scrDane(dzien_teraz,KOLOR,-2),1)
            else
                draw_sprite_ext(sprChoose_color,0,global.szer*7,y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15,global.wys/100,global.wys/100,270,-1,1)
        }
    }
    if dzien_teraz!=-1
    {
        if scrDane(dzien_teraz,KOLOR,-2)!=C_NOONE
            draw_sprite_ext(sprChoose_color,0,global.szer*7,y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15,global.wys/100,global.wys/100,0,scrDane(dzien_teraz,KOLOR,-2),1)
        else
            draw_sprite_ext(sprChoose_color,0,global.szer*7,y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15,global.wys/100,global.wys/100,0,-1,1)
        draw_set_font(foBig)
        draw_set_valign(fa_top);
        draw_set_halign(fa_right);
        draw_set_color(c_black)
        draw_set_alpha(1)
        draw_text(global.szer*7,y_margin_wiecej+(0.5-(abs(abs(global.slide_y)-0.5)))*global.wys*15,"choose 
        color ")
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
